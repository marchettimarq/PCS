
[hidden]{display:none!important}
:root{--nav-icon:32px;--nav-icon-primary:38px;--tap:48px;--phase-radius:18px;--phase-gap:14px;--phase-pad:14px;
--bg:#F7F8FC;--card:#fff;--text:#0F172A;--muted:#475569;--border:#E2E8F0;--brand:#2F6BFF;--brand-ink:#fff}
*{box-sizing:border-box}body{margin:0;background:var(--bg);color:var(--text);font-family:-apple-system,system-ui,Segoe UI,Roboto,Helvetica,Arial}
.topbar{position:sticky;top:0;z-index:20;display:flex;align-items:center;justify-content:space-between;padding:12px;background:var(--card);border-bottom:1px solid var(--border)}
.brand{font-weight:900;font-size:22px}.brand span{color:var(--brand)}
.icon-btn{min-width:var(--tap);min-height:var(--tap);display:inline-flex;align-items:center;justify-content:center;border:1px solid var(--border);border-radius:12px;background:var(--card)}
.icon{width:24px;height:24px}
.menu{position:absolute;right:10px;top:56px;background:var(--card);border:1px solid var(--border);border-radius:12px;box-shadow:0 6px 22px rgba(0,0,0,.1);display:flex;flex-direction:column;overflow:hidden}
.menu-item{padding:12px 14px;background:transparent;border:none;text-align:left}
.menu-item:active{background:#eef2ff}
.app{padding:12px 12px calc(74px + env(safe-area-inset-bottom))}
.view{display:none}.view.active{display:block}
.note{color:var(--muted);padding:12px}
.phase-carousel{display:flex;gap:var(--phase-gap);overflow-x:auto;scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch;padding:8px 2px}
.phase-card{scroll-snap-align:center;min-width:88%;border-radius:var(--phase-radius);padding:var(--phase-pad);background:var(--card);border:1px solid var(--border);box-shadow:0 8px 18px rgba(0,0,0,.05)}
.progress{height:8px;background:#e6eaff;border-radius:999px;overflow:hidden;margin-top:8px}
.progress-fill{height:8px;background:var(--brand)}
.dots{display:flex;gap:6px;justify-content:center;padding:8px 0}
.dot{width:8px;height:8px;border-radius:50%;background:#d1d5db}.dot.active{background:var(--brand)}
.bottom-nav{position:fixed;left:0;right:0;bottom:0;z-index:18;display:flex;justify-content:space-around;padding:6px;background:var(--card);border-top:1px solid var(--border)}
.nav-btn{display:flex;flex-direction:column;align-items:center;gap:2px;min-width:var(--tap);min-height:var(--tap);border:none;background:transparent}
.nav-btn .icon{width:var(--nav-icon);height:var(--nav-icon)}.nav-btn.primary{background:var(--brand);color:var(--brand-ink);border-radius:16px;padding:4px 10px}
.nav-btn.primary .icon{width:var(--nav-icon-primary);height:var(--nav-icon-primary)}
.phase-header{display:flex;align-items:center;gap:8px;margin:8px 0}.phase-title-input{flex:1;font-weight:900;font-size:18px;border:1px solid var(--border);border-radius:12px;padding:10px}
.section-label{font-size:13px;color:var(--muted);margin:14px 2px 6px}
.task-list{display:grid;gap:10px}.task-row{display:grid;grid-template-columns:30px 1fr 28px;gap:10px;align-items:flex-start;border:1px solid var(--border);border-radius:14px;padding:10px;background:var(--card)}
.check{width:28px;height:28px;border-radius:50%;border:2px solid var(--border);display:inline-flex;align-items:center;justify-content:center;color:var(--brand)}
.check.done{border-color:var(--brand);background:#e6eeff}.task-title{font-weight:800;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;word-break:break-word}
.task-date{margin-top:4px;font-size:12px;color:var(--muted)}.expand-btn{min-width:var(--tap);min-height:var(--tap);display:inline-flex;align-items:center;justify-content:center;border:1px solid var(--border);border-radius:10px}
.task-desc{display:none;padding:0 10px 10px 40px}.task-row.expanded + .task-desc{display:block}.completed-block{border:1px dashed var(--border);border-radius:12px;padding:8px}
.empty{text-align:center;color:var(--muted);padding:16px}
.scrim{position:fixed;inset:0;z-index:30;background:rgba(0,0,0,.45)}.sheet{position:fixed;left:0;right:0;bottom:0;z-index:31;background:var(--card);border-top-left-radius:18px;border-top-right-radius:18px;border:1px solid var(--border)}
.sheet-header{display:flex;align-items:center;justify-content:space-between;padding:12px;border-bottom:1px solid var(--border)}
.sheet-body{padding:12px;display:grid;gap:10px}.sheet-actions{display:flex;justify-content:flex-end;gap:8px;padding:12px;border-top:1px solid var(--border)}
.label{font-size:12px;color:var(--muted)}.input{border:1px solid var(--border);border-radius:12px;padding:10px}
.btn{border:1px solid var(--border);border-radius:12px;padding:10px 14px;background:var(--card)}.btn.primary{background:var(--brand);color:var(--brand-ink);border-color:var(--brand)}
.toast{position:fixed;bottom:calc(74px + env(safe-area-inset-bottom));left:50%;transform:translateX(-50%);background:#111;color:#fff;padding:10px 14px;border-radius:999px;z-index:50}
.toast.hidden{display:none}
